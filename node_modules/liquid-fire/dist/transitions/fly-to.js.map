{"version":3,"file":"fly-to.js","sources":["../../src/transitions/fly-to.js"],"sourcesContent":["import { animate, Promise } from '../index';\r\n\r\nexport default function flyTo(opts = {}) {\r\n  if (!this.newElement) {\r\n    return Promise.resolve();\r\n  } else if (!this.oldElement) {\r\n    this.newElement.style.visibility = '';\r\n    return Promise.resolve();\r\n  }\r\n\r\n  const oldOffset = getOffset(this.oldElement);\r\n  const newOffset = getOffset(this.newElement);\r\n\r\n  if (opts.movingSide === 'new') {\r\n    const motion = {\r\n      translateX: [0, oldOffset.left - newOffset.left],\r\n      translateY: [0, oldOffset.top - newOffset.top],\r\n      outerWidth: [this.newElement.offsetWidth, this.oldElement.offsetWidth],\r\n      outerHeight: [this.newElement.offsetHeight, this.oldElement.offsetHeight],\r\n    };\r\n    this.oldElement.style.visibility = 'hidden';\r\n    return animate(this.newElement, motion, opts);\r\n  } else {\r\n    const motion = {\r\n      translateX: newOffset.left - oldOffset.left,\r\n      translateY: newOffset.top - oldOffset.top,\r\n      outerWidth: this.newElement.offsetWidth,\r\n      outerHeight: this.newElement.offsetHeight,\r\n    };\r\n    this.newElement.style.visibility = 'hidden';\r\n    return animate(this.oldElement, motion, opts).then(() => {\r\n      this.newElement.style.visibility = '';\r\n    });\r\n  }\r\n}\r\n\r\nfunction getOffset(ele) {\r\n  const rect = ele?.getBoundingClientRect() ?? { top: 0, left: 0 };\r\n  return {\r\n    top: rect.top + window.scrollY,\r\n    left: rect.left + window.scrollX,\r\n  };\r\n}\r\n"],"names":["flyTo","opts","newElement","Promise","resolve","oldElement","style","visibility","oldOffset","getOffset","newOffset","movingSide","motion","translateX","left","translateY","top","outerWidth","offsetWidth","outerHeight","offsetHeight","animate","then","ele","rect","getBoundingClientRect","window","scrollY","scrollX"],"mappings":";;;;;;;;;;;;AAEe,SAASA,KAAKA,CAACC,IAAI,GAAG,EAAE,EAAE;AACvC,EAAA,IAAI,CAAC,IAAI,CAACC,UAAU,EAAE;AACpB,IAAA,OAAOC,SAAO,CAACC,OAAO,EAAE,CAAA;AAC1B,GAAC,MAAM,IAAI,CAAC,IAAI,CAACC,UAAU,EAAE;AAC3B,IAAA,IAAI,CAACH,UAAU,CAACI,KAAK,CAACC,UAAU,GAAG,EAAE,CAAA;AACrC,IAAA,OAAOJ,SAAO,CAACC,OAAO,EAAE,CAAA;AAC1B,GAAA;AAEA,EAAA,MAAMI,SAAS,GAAGC,SAAS,CAAC,IAAI,CAACJ,UAAU,CAAC,CAAA;AAC5C,EAAA,MAAMK,SAAS,GAAGD,SAAS,CAAC,IAAI,CAACP,UAAU,CAAC,CAAA;AAE5C,EAAA,IAAID,IAAI,CAACU,UAAU,KAAK,KAAK,EAAE;AAC7B,IAAA,MAAMC,MAAM,GAAG;MACbC,UAAU,EAAE,CAAC,CAAC,EAAEL,SAAS,CAACM,IAAI,GAAGJ,SAAS,CAACI,IAAI,CAAC;MAChDC,UAAU,EAAE,CAAC,CAAC,EAAEP,SAAS,CAACQ,GAAG,GAAGN,SAAS,CAACM,GAAG,CAAC;AAC9CC,MAAAA,UAAU,EAAE,CAAC,IAAI,CAACf,UAAU,CAACgB,WAAW,EAAE,IAAI,CAACb,UAAU,CAACa,WAAW,CAAC;AACtEC,MAAAA,WAAW,EAAE,CAAC,IAAI,CAACjB,UAAU,CAACkB,YAAY,EAAE,IAAI,CAACf,UAAU,CAACe,YAAY,CAAA;KACzE,CAAA;AACD,IAAA,IAAI,CAACf,UAAU,CAACC,KAAK,CAACC,UAAU,GAAG,QAAQ,CAAA;IAC3C,OAAOc,OAAO,CAAC,IAAI,CAACnB,UAAU,EAAEU,MAAM,EAAEX,IAAI,CAAC,CAAA;AAC/C,GAAC,MAAM;AACL,IAAA,MAAMW,MAAM,GAAG;AACbC,MAAAA,UAAU,EAAEH,SAAS,CAACI,IAAI,GAAGN,SAAS,CAACM,IAAI;AAC3CC,MAAAA,UAAU,EAAEL,SAAS,CAACM,GAAG,GAAGR,SAAS,CAACQ,GAAG;AACzCC,MAAAA,UAAU,EAAE,IAAI,CAACf,UAAU,CAACgB,WAAW;AACvCC,MAAAA,WAAW,EAAE,IAAI,CAACjB,UAAU,CAACkB,YAAAA;KAC9B,CAAA;AACD,IAAA,IAAI,CAAClB,UAAU,CAACI,KAAK,CAACC,UAAU,GAAG,QAAQ,CAAA;AAC3C,IAAA,OAAOc,OAAO,CAAC,IAAI,CAAChB,UAAU,EAAEO,MAAM,EAAEX,IAAI,CAAC,CAACqB,IAAI,CAAC,MAAM;AACvD,MAAA,IAAI,CAACpB,UAAU,CAACI,KAAK,CAACC,UAAU,GAAG,EAAE,CAAA;AACvC,KAAC,CAAC,CAAA;AACJ,GAAA;AACF,CAAA;AAEA,SAASE,SAASA,CAACc,GAAG,EAAE;AACtB,EAAA,MAAMC,IAAI,GAAGD,GAAG,EAAEE,qBAAqB,EAAE,IAAI;AAAET,IAAAA,GAAG,EAAE,CAAC;AAAEF,IAAAA,IAAI,EAAE,CAAA;GAAG,CAAA;EAChE,OAAO;AACLE,IAAAA,GAAG,EAAEQ,IAAI,CAACR,GAAG,GAAGU,MAAM,CAACC,OAAO;AAC9Bb,IAAAA,IAAI,EAAEU,IAAI,CAACV,IAAI,GAAGY,MAAM,CAACE,OAAAA;GAC1B,CAAA;AACH;;;;"}