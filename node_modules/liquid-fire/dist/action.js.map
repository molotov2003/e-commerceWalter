{"version":3,"file":"action.js","sources":["../src/action.js"],"sourcesContent":["import Promise from './promise';\r\n\r\nexport default class Action {\r\n  constructor(nameOrHandler, args = [], opts = {}) {\r\n    if (typeof nameOrHandler === 'function') {\r\n      this.handler = nameOrHandler;\r\n    } else {\r\n      this.name = nameOrHandler;\r\n    }\r\n    this.reversed = opts.reversed;\r\n    this.args = args;\r\n  }\r\n\r\n  validateHandler(transitionMap) {\r\n    if (!this.handler) {\r\n      this.handler = transitionMap.lookup(this.name);\r\n    }\r\n  }\r\n\r\n  run(context) {\r\n    return new Promise((resolve, reject) => {\r\n      Promise.resolve(this.handler.apply(context, this.args)).then(\r\n        resolve,\r\n        reject,\r\n      );\r\n    });\r\n  }\r\n}\r\n"],"names":["Action","constructor","nameOrHandler","args","opts","handler","name","reversed","validateHandler","transitionMap","lookup","run","context","Promise","resolve","reject","apply","then"],"mappings":";;AAEe,MAAMA,MAAM,CAAC;EAC1BC,WAAWA,CAACC,aAAa,EAAEC,IAAI,GAAG,EAAE,EAAEC,IAAI,GAAG,EAAE,EAAE;AAC/C,IAAA,IAAI,OAAOF,aAAa,KAAK,UAAU,EAAE;MACvC,IAAI,CAACG,OAAO,GAAGH,aAAa,CAAA;AAC9B,KAAC,MAAM;MACL,IAAI,CAACI,IAAI,GAAGJ,aAAa,CAAA;AAC3B,KAAA;AACA,IAAA,IAAI,CAACK,QAAQ,GAAGH,IAAI,CAACG,QAAQ,CAAA;IAC7B,IAAI,CAACJ,IAAI,GAAGA,IAAI,CAAA;AAClB,GAAA;EAEAK,eAAeA,CAACC,aAAa,EAAE;AAC7B,IAAA,IAAI,CAAC,IAAI,CAACJ,OAAO,EAAE;MACjB,IAAI,CAACA,OAAO,GAAGI,aAAa,CAACC,MAAM,CAAC,IAAI,CAACJ,IAAI,CAAC,CAAA;AAChD,KAAA;AACF,GAAA;EAEAK,GAAGA,CAACC,OAAO,EAAE;AACX,IAAA,OAAO,IAAIC,SAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;MACtCF,SAAO,CAACC,OAAO,CAAC,IAAI,CAACT,OAAO,CAACW,KAAK,CAACJ,OAAO,EAAE,IAAI,CAACT,IAAI,CAAC,CAAC,CAACc,IAAI,CAC1DH,OAAO,EACPC,MACF,CAAC,CAAA;AACH,KAAC,CAAC,CAAA;AACJ,GAAA;AACF;;;;"}