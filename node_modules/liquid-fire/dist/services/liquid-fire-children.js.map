{"version":3,"file":"liquid-fire-children.js","sources":["../../src/services/liquid-fire-children.js"],"sourcesContent":["ï»¿import Service from '@ember/service';\r\n\r\nclass LiquidFireChild {\r\n  constructor(uniqueChildId, componentClass) {\r\n    this.uniqueChildId = uniqueChildId;\r\n    this.componentClass = componentClass;\r\n  }\r\n}\r\n\r\nexport default class LiquidFireChildrenService extends Service {\r\n  children = [];\r\n  _waitingFor = [];\r\n\r\n  register(uniqueChildId, componentClass) {\r\n    const child = new LiquidFireChild(uniqueChildId, componentClass);\r\n    this.children.push(child);\r\n    return child;\r\n  }\r\n\r\n  unregister(child) {\r\n    const index = this.children.indexOf(child);\r\n\r\n    if (index === -1) {\r\n      return;\r\n    }\r\n\r\n    this.children.splice(index, 1);\r\n  }\r\n\r\n  closest(element) {\r\n    if (!element) {\r\n      return null;\r\n    }\r\n\r\n    const closestElement = element.closest('[data-liquid-child]');\r\n\r\n    if (!closestElement) {\r\n      return null;\r\n    }\r\n\r\n    if (\r\n      closestElement.getAttribute('data-liquid-child') ===\r\n      element.getAttribute('data-liquid-child')\r\n    ) {\r\n      return null;\r\n    }\r\n\r\n    const child = this.children.find(\r\n      (x) =>\r\n        x.uniqueChildId === closestElement.getAttribute('data-liquid-child'),\r\n    );\r\n\r\n    if (!child) {\r\n      return null;\r\n    }\r\n\r\n    return child.componentClass;\r\n  }\r\n}\r\n"],"names":["LiquidFireChild","constructor","uniqueChildId","componentClass","LiquidFireChildrenService","Service","args","_defineProperty","register","child","children","push","unregister","index","indexOf","splice","closest","element","closestElement","getAttribute","find","x"],"mappings":";;;AAEA,MAAMA,eAAe,CAAC;AACpBC,EAAAA,WAAWA,CAACC,aAAa,EAAEC,cAAc,EAAE;IACzC,IAAI,CAACD,aAAa,GAAGA,aAAa,CAAA;IAClC,IAAI,CAACC,cAAc,GAAGA,cAAc,CAAA;AACtC,GAAA;AACF,CAAA;AAEe,MAAMC,yBAAyB,SAASC,OAAO,CAAC;AAAAJ,EAAAA,WAAAA,CAAA,GAAAK,IAAA,EAAA;AAAA,IAAA,KAAA,CAAA,GAAAA,IAAA,CAAA,CAAA;AAAAC,IAAAA,eAAA,mBAClD,EAAE,CAAA,CAAA;AAAAA,IAAAA,eAAA,sBACC,EAAE,CAAA,CAAA;AAAA,GAAA;AAEhBC,EAAAA,QAAQA,CAACN,aAAa,EAAEC,cAAc,EAAE;IACtC,MAAMM,KAAK,GAAG,IAAIT,eAAe,CAACE,aAAa,EAAEC,cAAc,CAAC,CAAA;AAChE,IAAA,IAAI,CAACO,QAAQ,CAACC,IAAI,CAACF,KAAK,CAAC,CAAA;AACzB,IAAA,OAAOA,KAAK,CAAA;AACd,GAAA;EAEAG,UAAUA,CAACH,KAAK,EAAE;IAChB,MAAMI,KAAK,GAAG,IAAI,CAACH,QAAQ,CAACI,OAAO,CAACL,KAAK,CAAC,CAAA;AAE1C,IAAA,IAAII,KAAK,KAAK,CAAC,CAAC,EAAE;AAChB,MAAA,OAAA;AACF,KAAA;IAEA,IAAI,CAACH,QAAQ,CAACK,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC,CAAA;AAChC,GAAA;EAEAG,OAAOA,CAACC,OAAO,EAAE;IACf,IAAI,CAACA,OAAO,EAAE;AACZ,MAAA,OAAO,IAAI,CAAA;AACb,KAAA;AAEA,IAAA,MAAMC,cAAc,GAAGD,OAAO,CAACD,OAAO,CAAC,qBAAqB,CAAC,CAAA;IAE7D,IAAI,CAACE,cAAc,EAAE;AACnB,MAAA,OAAO,IAAI,CAAA;AACb,KAAA;AAEA,IAAA,IACEA,cAAc,CAACC,YAAY,CAAC,mBAAmB,CAAC,KAChDF,OAAO,CAACE,YAAY,CAAC,mBAAmB,CAAC,EACzC;AACA,MAAA,OAAO,IAAI,CAAA;AACb,KAAA;IAEA,MAAMV,KAAK,GAAG,IAAI,CAACC,QAAQ,CAACU,IAAI,CAC7BC,CAAC,IACAA,CAAC,CAACnB,aAAa,KAAKgB,cAAc,CAACC,YAAY,CAAC,mBAAmB,CACvE,CAAC,CAAA;IAED,IAAI,CAACV,KAAK,EAAE;AACV,MAAA,OAAO,IAAI,CAAA;AACb,KAAA;IAEA,OAAOA,KAAK,CAACN,cAAc,CAAA;AAC7B,GAAA;AACF;;;;"}