{"version":3,"file":"mutation-observer.js","sources":["../src/mutation-observer.js"],"sourcesContent":["import isBrowser from './is-browser';\r\nconst activePollers = [];\r\n\r\nfunction MutationPoller(callback) {\r\n  this.callback = callback;\r\n}\r\n\r\nMutationPoller.prototype = {\r\n  observe: function () {\r\n    this.interval = setInterval(this.callback, 100);\r\n    activePollers.push(this);\r\n  },\r\n  disconnect: function () {\r\n    clearInterval(this.interval);\r\n    activePollers.splice(activePollers.indexOf(this), 1);\r\n  },\r\n};\r\n\r\nlet M;\r\nif (isBrowser()) {\r\n  M =\r\n    window.MutationObserver || window.WebkitMutationObserver || MutationPoller;\r\n} else {\r\n  M = MutationPoller;\r\n}\r\n\r\nexport default M;\r\n\r\n// PhantomJS does not have real mutation observers, so to get\r\n// reasonable test timing we have to manually kick it.\r\nexport function testingKick() {\r\n  for (let i = 0; i < activePollers.length; i++) {\r\n    activePollers[i].callback();\r\n  }\r\n}\r\n"],"names":["activePollers","MutationPoller","callback","prototype","observe","interval","setInterval","push","disconnect","clearInterval","splice","indexOf","M","isBrowser","window","MutationObserver","WebkitMutationObserver","testingKick","i","length"],"mappings":";;AACA,MAAMA,aAAa,GAAG,EAAE,CAAA;AAExB,SAASC,cAAcA,CAACC,QAAQ,EAAE;EAChC,IAAI,CAACA,QAAQ,GAAGA,QAAQ,CAAA;AAC1B,CAAA;AAEAD,cAAc,CAACE,SAAS,GAAG;EACzBC,OAAO,EAAE,YAAY;IACnB,IAAI,CAACC,QAAQ,GAAGC,WAAW,CAAC,IAAI,CAACJ,QAAQ,EAAE,GAAG,CAAC,CAAA;AAC/CF,IAAAA,aAAa,CAACO,IAAI,CAAC,IAAI,CAAC,CAAA;GACzB;EACDC,UAAU,EAAE,YAAY;AACtBC,IAAAA,aAAa,CAAC,IAAI,CAACJ,QAAQ,CAAC,CAAA;IAC5BL,aAAa,CAACU,MAAM,CAACV,aAAa,CAACW,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAA;AACtD,GAAA;AACF,CAAC,CAAA;AAED,IAAIC,CAAC,CAAA;AACL,IAAIC,SAAS,EAAE,EAAE;EACfD,CAAC,GACCE,MAAM,CAACC,gBAAgB,IAAID,MAAM,CAACE,sBAAsB,IAAIf,cAAc,CAAA;AAC9E,CAAC,MAAM;AACLW,EAAAA,CAAC,GAAGX,cAAc,CAAA;AACpB,CAAA;AAEA,uBAAeW,CAAC,CAAA;;AAEhB;AACA;AACO,SAASK,WAAWA,GAAG;AAC5B,EAAA,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGlB,aAAa,CAACmB,MAAM,EAAED,CAAC,EAAE,EAAE;AAC7ClB,IAAAA,aAAa,CAACkB,CAAC,CAAC,CAAChB,QAAQ,EAAE,CAAA;AAC7B,GAAA;AACF;;;;"}